<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown Timer</title>
  <style>
    .timer-container {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 10px solid #ccc;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
    }

    .timer-circle {
      width: 100%;
      height: 100%;
      clip: rect(0px, 200px, 200px, 100px);
      position: absolute;
    }

    .timer-circle-fill {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 10px solid red;
      clip: rect(0px, 100px, 200px, 0px);
      position: absolute;
      transform: rotate(0deg);
    }

    .timer-circle-mask {
      width: 100%;
      height: 100%;
      clip: rect(0px, 100px, 200px, 0px);
      position: absolute;
    }

    .timer-circle-mask .timer-circle-fill {
      border-color: #ccc;
    }

    .timer-time {
      position: absolute;
    }
  </style>
</head>

<body>
  <div class="timer-container">
    <div class="timer-circle">
      <div class="timer-circle-fill" id="left-half"></div>
    </div>
    <div class="timer-circle-mask">
      <div class="timer-circle-fill" id="right-half"></div>
    </div>
    <div class="timer-time" id="time">60:00</div>
  </div>

  <script>
    function startCountdown(fromTime, toTime) {
      const fromHour = new Date(`1970-01-01T${fromTime}:00`);
      const toHour = new Date(`1970-01-01T${toTime}:00`);
      let timeDifference = (toHour - fromHour) / 1000; // Difference in seconds

      const totalDuration = timeDifference;
      const leftHalf = document.getElementById('left-half');
      const rightHalf = document.getElementById('right-half');
      const timeDisplay = document.getElementById('time');

      function updateTimer() {
        if (timeDifference >= 0) {
          const minutes = Math.floor(timeDifference / 60);
          const seconds = timeDifference % 60;
          timeDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}`;

          const rotation = (360 * (totalDuration - timeDifference)) / totalDuration;
          if (rotation <= 180) {
            rightHalf.style.transform = `rotate(${rotation}deg)`;
          } else {
            rightHalf.style.transform = `rotate(180deg)`;
            leftHalf.style.transform = `rotate(${rotation - 180}deg)`;
          }

          timeDifference--;
          setTimeout(updateTimer, 1000);
        } else {
          timeDisplay.textContent = "0:00";
          leftHalf.style.transform = `rotate(180deg)`;
          rightHalf.style.transform = `rotate(180deg)`;
        }
      }

      updateTimer();
    }

    startCountdown('17:00', '20:00');
  </script>
</body>

</html>